; transport UDP (escuta em todas interfaces)
[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0

; ========== RAMAL 2000 ==========
; AOR (Address of Record) - onde as contacts (registrations) ficam
[2000]
type=aor
max_contacts=1

; Auth - credenciais que o telefone usará para registrar
[2000]
type=auth
auth_type=userpass
username=2000
password=sip1234

; Endpoint - configuração do ramal
[2000]
type=endpoint
aors=2000
auth=2000
context=from-internal         ; dialplan onde cairá a chamada incoming
disallow=all
allow=ulaw                   ; codec usado (pode ajustar)
transport=transport-udp
direct_media=no              ; normalmente NO em NAT/uras

; Identify (opcional, usado quando se quer identificar a partir de IP fixo)
; Se o telefone vai registrar, não é obrigatório. Se usar "peer" sem registrar,
; coloque match=<ip-do-dispositivo>
;[id2000]
;type=identify
;endpoint=endpoint-2000
; match=192.0.2.10

; ========== RAMAL 2001 ==========
[2001]
type=aor
max_contacts=1

[2001]
type=auth
auth_type=userpass
username=2001
password=sip1234

[2001]
type=endpoint
aors=2001
auth=2001
context=from-internal
disallow=all
allow=ulaw
transport=transport-udp
direct_media=no

;[id2001]
;type=identify
;endpoint=endpoint-2001
; match=192.0.2.11



; CENARIO 1======================================

; ==== RAMAL 5000 ==============
[5000]
type=aor
max_contacts=1

[5000]
type=auth
auth_type=userpass
username=5000
password=sip1234

[5000]
type=endpoint
aors=5000
auth=5000
context=cenario-1
disallow=all
allow=ulaw
transport=transport-udp
direct_media=no


; ==== 5001 ==================
[5001]
type=aor
max_contacts=1

[5001]
type=auth
auth_type=userpass
username=5001
password=sip1234

[5001]
type=endpoint
aors=5001
auth=5001
context=cenario-1
disallow=all
allow=ulaw
transport=transport-udp
direct_media=no





; ==== RAMAL 22 ==============
[22]
type=aor
max_contacts=5

[22]
type=auth
auth_type=userpass
username=22
password=sip1234

[22]
type=endpoint
aors=22
auth=22
context=cenario-2-entrada
disallow=all
allow=ulaw
transport=transport-udp
direct_media=no


; ==== RAMAL 23 ==============
[23]
type=aor
max_contacts=1

[23]
type=auth
auth_type=userpass
username=23
password=sip1234

[23]
type=endpoint
aors=23
auth=23
context=cenario-1
disallow=all
allow=ulaw
transport=transport-udp
direct_media=no




; ==== TRONCO 5010 =================
[5010]
type = auth
auth_type = userpass
username = 5010
password = sip1234

[5010]
type = aor
max_contacts = 1

[5010]
type = endpoint
context = cenario-1-entrada
transport = transport-udp
aors = 5010
auth = 5010
disallow = all
allow = ulaw
rewrite_contact = yes





; CENARIO 2=======================================

; ==== RAMAL 6000 ====
[6000]
type=aor
max_contacts=1

[6000]
type=auth
auth_type=userpass
username=6000
password=sip1234

[6000]
type=endpoint
aors=6000
auth=6000
context=cenario-2
disallow=all
allow=ulaw
transport=transport-udp
direct_media=no


; ==== TRONCO 6010 ====

[6010]
type = auth
auth_type = userpass
username = 6010
password = sip1234

[6010]
type = aor
max_contacts = 5

[6010]
type = endpoint
context = cenario-2-entrada
transport = transport-udp
aors = 6010
auth = 6010
disallow = all
allow = ulaw
rewrite_contact = yes

; PERMITE MÚLTIPLAS CHAMADAS SIMULTÂNEAS
;set_var = LIMIT_CALLS=10

















